webpackJsonp([9],{"5OJl":function(e,t,a){"use strict";var o=a("mtWM"),r=a.n(o),s=a("IcnI"),n=a("YaEn"),i=a("rXDB"),u=a("3p6I"),l=a("e7x4"),c=a.n(l);t.a={submitRegistration:function(){r()({method:"POST",url:s.a.getters.getBaseAppUrl+"Sso/Registration",headers:s.a.getters.getRequestHeaders}).catch(function(e){e.response||e.request,c()({type:"error",title:"We Apologize",text:"We are unable to process your request at this time."}),console.log(e.config)})},submitLogin:function(){r()({method:"POST",url:s.a.getters.getBaseAppUrl+"Sso/Login",headers:s.a.getters.getRequestHeaders}).then(function(e){if(200===e.status)return{url:e.data,token:i.a.parseUrlQuery(e.data).jwt};c()({type:"warning",title:"Response Not Accepted"})}).then(function(e){var t=u.a.myDecode(e.token);"partial-registration"===i.a.getUrlPath(e.url)&&(s.a.dispatch("updateRole",t.roleType),s.a.dispatch("updateUsername",t.username),s.a.commit("setAuthToken",e.token),n.a.push({name:"PartialRegistration",params:{jwt:e.token}})),"home"===i.a.getUrlPath(e.url)&&(s.a.dispatch("updateRole",t.role),s.a.dispatch("updateUsername",t.unique_name),s.a.commit("signIn",e.token),n.a.push({name:"Home"}))}).catch(function(e){e.response||e.request,n.a.push({name:"Main"}),c()({type:"error",title:"We Apologize",text:"We are unable to process your request at this time. Please try to login through our application."}),console.log(e.config)})},submitResetPassword:function(){r()({method:"POST",url:s.a.getters.getBaseAppUrl+"Sso/ResetPassword",headers:s.a.getters.getRequestHeaders}).catch(function(e){e.response||e.request&&console.log(e.request),n.a.push({name:"Main"}),c()({type:"error",title:"We Apologize",text:"We are unable to process your request at this time."}),console.log(e.config)})}}},ELcL:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("8UL1"),r=a("Zm3I"),s=a("rd2Y"),n=a("5OJl"),i={components:{ErrorModal:o.a,EventBus:r.a,LoadingModal:s.a},created:function(){this.$store.dispatch("updateToken",this.$route.query.jwt),n.a.submitLogin()},mounted:function(){r.a.$emit("loading")},methods:{toggleErrorModal:function(e){this.$store.dispatch("updateErrorMessage",e),r.a.$emit("error")}}},u={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("error-modal"),this._v(" "),t("loading-modal")],1)},staticRenderFns:[]};var l=a("VU/8")(i,u,!1,function(e){a("jVjt")},null,null);t.default=l.exports},jVjt:function(e,t){}});
//# sourceMappingURL=9.2ddc2caec07b3633cf2c.js.map