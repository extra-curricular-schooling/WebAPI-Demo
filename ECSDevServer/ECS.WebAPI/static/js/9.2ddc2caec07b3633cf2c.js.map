{"version":3,"sources":["webpack:///./src/components/sso-test/mockRequest.js","webpack:///src/pages/SingleSignOn.vue","webpack:///./src/pages/SingleSignOn.vue?0e61","webpack:///./src/pages/SingleSignOn.vue"],"names":["__webpack_exports__","submitRegistration","__WEBPACK_IMPORTED_MODULE_0_axios___default","method","url","__WEBPACK_IMPORTED_MODULE_1__store_index__","getters","getBaseAppUrl","headers","getRequestHeaders","catch","error","response","request","__WEBPACK_IMPORTED_MODULE_5_sweetalert2___default","type","title","text","console","log","config","submitLogin","then","status","data","token","__WEBPACK_IMPORTED_MODULE_3__assets_js_urlHelper__","parseUrlQuery","loginInfo","claims","__WEBPACK_IMPORTED_MODULE_4__assets_js_jwtService__","myDecode","getUrlPath","dispatch","commit","__WEBPACK_IMPORTED_MODULE_2__router_index__","push","name","params","jwt","submitResetPassword","SingleSignOn","ErrorModal","Template","EventBus","LoadingModal","loading_modal_Template","message","pages_SingleSignOn","render","_h","this","$createElement","_c","_self","_v","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext"],"mappings":"oJAOAA,EAAA,GACEC,mBAAoB,WAElBC,KACEC,OAAQ,OACRC,IAAKC,EAAA,EAAMC,QAAQC,cAAgB,mBACnCC,QAASH,EAAA,EAAMC,QAAQG,oBAEtBC,MAAM,SAAAC,GACDA,EAAMC,UAOCD,EAAME,QASjBC,KACEC,KAAM,QACNC,MAAO,eACPC,KAAM,wDACRC,QAAQC,IAAIR,EAAMS,WAGxBC,YAhCa,WAkCXnB,KACEC,OAAQ,OACRC,IAAKC,EAAA,EAAMC,QAAQC,cAAgB,YACnCC,QAASH,EAAA,EAAMC,QAAQG,oBAEtBa,KAAK,SAAAV,GAEJ,GAAwB,MAApBA,EAASW,OAIX,OACEnB,IAJQQ,EAASY,KAKjBC,MAJgBC,EAAA,EAAUC,cAAcf,EAASY,MACvC,KAMZV,KACEC,KAAM,UACNC,MAAO,4BAIZM,KAAK,SAACM,GACL,IAAIC,EAASC,EAAA,EAAWC,SAASH,EAAUH,OACC,yBAAxCC,EAAA,EAAUM,WAAWJ,EAAUxB,OACjCC,EAAA,EAAM4B,SAAS,aAAcJ,EAAA,UAC7BxB,EAAA,EAAM4B,SAAS,iBAAkBJ,EAAA,UACjCxB,EAAA,EAAM6B,OAAO,eAAgBN,EAAUH,OACvCU,EAAA,EAAOC,MACLC,KAAM,sBACNC,QACEC,IAAKX,EAAUH,UAIuB,SAAxCC,EAAA,EAAUM,WAAWJ,EAAUxB,OACjCC,EAAA,EAAM4B,SAAS,aAAcJ,EAAA,MAC7BxB,EAAA,EAAM4B,SAAS,iBAAkBJ,EAAA,aACjCxB,EAAA,EAAM6B,OAAO,SAAUN,EAAUH,OACjCU,EAAA,EAAOC,MACLC,KAAM,YAIX3B,MAAM,SAAAC,GACDA,EAAMC,UAOCD,EAAME,QASjBsB,EAAA,EAAOC,MAAMC,KAAM,SACnBvB,KACEC,KAAM,QACNC,MAAO,eACPC,KAAM,qGACRC,QAAQC,IAAIR,EAAMS,WAGxBoB,oBAAqB,WAEnBtC,KACEC,OAAQ,OACRC,IAAKC,EAAA,EAAMC,QAAQC,cAAgB,oBACnCC,QAASH,EAAA,EAAMC,QAAQG,oBAEtBC,MAAM,SAAUC,GACXA,EAAMC,UAGCD,EAAME,SACfK,QAAQC,IAAIR,EAAME,SAKpBsB,EAAA,EAAOC,MAAMC,KAAM,SACnBvB,KACEC,KAAM,QACNC,MAAO,eACPC,KAAM,wDACRC,QAAQC,IAAIR,EAAMS,oJCvH1BqB,eAGAC,WAAAC,EAAA,EACAC,WAAA,EAEAC,aAAAC,EAAA,2EAEAP,SACAlB,4CAGA,4FAIA0B,aACA,YC3BAC,GADiBC,OAFjB,WAA0B,IAAaC,EAAbC,KAAaC,eAA0BC,EAAvCF,KAAuCG,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAAA,EAAA,eAA/DF,KAA+DI,GAAA,KAAAF,EAAA,sBAExEG,oBCCjB,IAcAC,EAdAC,EAAA,OAcAC,CACAlB,EACAO,GATA,EAVA,SAAAY,GACAF,EAAA,SAaA,KAEA,MAUA1D,EAAA,QAAAyD,EAAA","file":"static/js/9.2ddc2caec07b3633cf2c.js","sourcesContent":["import Axios from 'axios'\r\nimport Store from '@/store/index'\r\nimport Router from '@/router/index'\r\nimport UrlHelper from '@/assets/js/urlHelper'\r\nimport JwtService from '@/assets/js/jwtService'\r\nimport Swal from 'sweetalert2'\r\n\r\nexport default {\r\n  submitRegistration: function () {\r\n    // Test SSO Token\r\n    Axios({\r\n      method: 'POST',\r\n      url: Store.getters.getBaseAppUrl + 'Sso/Registration',\r\n      headers: Store.getters.getRequestHeaders\r\n    })\r\n      .catch(error => {\r\n        if (error.response) {\r\n          // The request was made and the server responded with a status code\r\n          // that falls out of the range of 2xx\r\n          // console.log('An error occured')\r\n          // console.log('Data:', error.response.data)\r\n          // console.log('Status:', error.response.status)\r\n          // console.log('Headers:', error.response.headers)\r\n        } else if (error.request) {\r\n          // The request was made but no response was received\r\n          // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\r\n          // http.ClientRequest in node.js\r\n          // console.log(error.request)\r\n        } else {\r\n          // Something happened in setting up the request that triggered an Error\r\n          // console.log('Error', error.message)\r\n        }\r\n        Swal({\r\n          type: 'error',\r\n          title: 'We Apologize',\r\n          text: 'We are unable to process your request at this time.'})\r\n        console.log(error.config)\r\n      })\r\n  },\r\n  submitLogin () {\r\n    // Test SSO Token\r\n    Axios({\r\n      method: 'POST',\r\n      url: Store.getters.getBaseAppUrl + 'Sso/Login',\r\n      headers: Store.getters.getRequestHeaders\r\n    })\r\n      .then(response => {\r\n        // Testing with a 200 response to make sure the Partial Registration is working.\r\n        if (response.status === 200) {\r\n          let url = response.data\r\n          let parsedQuery = UrlHelper.parseUrlQuery(response.data)\r\n          let token = parsedQuery['jwt']\r\n          return {\r\n            'url': url,\r\n            'token': token\r\n          }\r\n        } else {\r\n          Swal({\r\n            type: 'warning',\r\n            title: 'Response Not Accepted'\r\n          })\r\n        }\r\n      })\r\n      .then((loginInfo) => {\r\n        let claims = JwtService.myDecode(loginInfo.token)\r\n        if (UrlHelper.getUrlPath(loginInfo.url) === 'partial-registration') {\r\n          Store.dispatch('updateRole', claims['roleType'])\r\n          Store.dispatch('updateUsername', claims['username'])\r\n          Store.commit('setAuthToken', loginInfo.token)\r\n          Router.push({\r\n            name: 'PartialRegistration',\r\n            params: {\r\n              jwt: loginInfo.token\r\n            }\r\n          })\r\n        }\r\n        if (UrlHelper.getUrlPath(loginInfo.url) === 'home') {\r\n          Store.dispatch('updateRole', claims['role'])\r\n          Store.dispatch('updateUsername', claims['unique_name'])\r\n          Store.commit('signIn', loginInfo.token)\r\n          Router.push({\r\n            name: 'Home'\r\n          })\r\n        }\r\n      })\r\n      .catch(error => {\r\n        if (error.response) {\r\n          // The request was made and the server responded with a status code\r\n          // that falls out of the range of 2xx\r\n          // console.log('An error occured')\r\n          // console.log(error.response.data)\r\n          // console.log(error.response.status)\r\n          // console.log(error.response.headers)\r\n        } else if (error.request) {\r\n          // The request was made but no response was received\r\n          // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\r\n          // http.ClientRequest in node.js\r\n          // console.log(error.request)\r\n        } else {\r\n          // Something happened in setting up the request that triggered an Error\r\n          // console.log('Error', error.message)\r\n        }\r\n        Router.push({name: 'Main'})\r\n        Swal({\r\n          type: 'error',\r\n          title: 'We Apologize',\r\n          text: 'We are unable to process your request at this time. Please try to login through our application.'})\r\n        console.log(error.config)\r\n      })\r\n  },\r\n  submitResetPassword: function () {\r\n    // Test SSO Token\r\n    Axios({\r\n      method: 'POST',\r\n      url: Store.getters.getBaseAppUrl + 'Sso/ResetPassword',\r\n      headers: Store.getters.getRequestHeaders\r\n    })\r\n      .catch(function (error) {\r\n        if (error.response) {\r\n          // The request was made and the server responded with a status code\r\n          // that falls out of the range of 2xx\r\n        } else if (error.request) {\r\n          console.log(error.request)\r\n        } else {\r\n          // Something happened in setting up the request that triggered an Error\r\n          // console.log('Error', error.message)\r\n        }\r\n        Router.push({name: 'Main'})\r\n        Swal({\r\n          type: 'error',\r\n          title: 'We Apologize',\r\n          text: 'We are unable to process your request at this time.'})\r\n        console.log(error.config)\r\n      })\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/sso-test/mockRequest.js","<template>\r\n  <div>\r\n    <error-modal/>\r\n    <loading-modal/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ErrorModal from '@/components/error-modal/Template'\r\nimport EventBus from '@/assets/js/EventBus'\r\nimport LoadingModal from '@/components/loading-modal/Template'\r\nimport MockRequest from '@/components/sso-test/mockRequest'\r\n\r\nexport default {\r\n  components: {\r\n    ErrorModal,\r\n    EventBus,\r\n    LoadingModal\r\n  },\r\n  created () {\r\n    this.$store.dispatch('updateToken', this.$route.query.jwt)\r\n    MockRequest.submitLogin()\r\n  },\r\n  mounted () {\r\n    EventBus.$emit('loading')\r\n  },\r\n  methods: {\r\n    toggleErrorModal (message) {\r\n      this.$store.dispatch('updateErrorMessage', message)\r\n      EventBus.$emit('error')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/SingleSignOn.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('error-modal'),_vm._v(\" \"),_c('loading-modal')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-124b8772\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/SingleSignOn.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-124b8772\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SingleSignOn.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SingleSignOn.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SingleSignOn.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-124b8772\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./SingleSignOn.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/SingleSignOn.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}